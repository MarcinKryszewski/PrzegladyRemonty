CREATE TABLE line (
Id AUTOINCREMENT PRIMARY KEY,
Name VARCHAR,
Active BIT);

CREATE TABLE area (
Id AUTOINCREMENT PRIMARY KEY,
Name VARCHAR,
Active BIT,
Line INT,
FOREIGN KEY (Line) REFERENCES line (Id));

CREATE TABLE transporter (
Id AUTOINCREMENT PRIMARY KEY,
Name VARCHAR,
Active BIT,
Area INT,
LastMaintenance 	DATETIME,
FOREIGN KEY (Area) REFERENCES area (Id));

CREATE TABLE actionCategory (
Id AUTOINCREMENT PRIMARY KEY,
Name VARCHAR);

CREATE TABLE transporterAction (
Id AUTOINCREMENT PRIMARY KEY,
Transporter INT,
Action INT,
Frequency INT,
FrequencyUnit TEXT,
FOREIGN KEY (Transporter) REFERENCES transporter (Id),
FOREIGN KEY (Action) REFERENCES actionCategory (Id));

CREATE TABLE permission (
Id AUTOINCREMENT PRIMARY KEY,
Name VARCHAR,
Active BIT);

CREATE TABLE user (
Id AUTOINCREMENT PRIMARY KEY,
Login VARCHAR,
Name VARCHAR,
Surname VARCHAR,
Active BIT);

CREATE TABLE userPermission (
Id AUTOINCREMENT PRIMARY KEY,
User INT,
Permission INT,
FOREIGN KEY (User) REFERENCES user (Id),
FOREIGN KEY (Permission) REFERENCES permission (Id));

CREATE TABLE maintenance (
Id AUTOINCREMENT PRIMARY KEY,
MaintenanceDate DATETIME,
Mechanic INT,
Action INT,
Completed BIT,
Comment TEXT,
FOREIGN KEY (Mechanic) REFERENCES user (Id),
FOREIGN KEY (Action) REFERENCES transporterAction (Id));

CREATE TABLE workOrder (
Id AUTOINCREMENT PRIMARY KEY,
Created DATETIME,
CreatedBy INT,
FOREIGN KEY (CreatedBy) REFERENCES user (Id));

CREATE TABLE workOrderMainte (
Id AUTOINCREMENT PRIMARY KEY,
Created DATETIME,
CreatedBy INT,
FOREIGN KEY (CreatedBy) REFERENCES user (Id));